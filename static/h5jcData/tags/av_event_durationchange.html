<link rel="stylesheet" type="text/css" href="../c3.css" />


<div id="wrapper">
<div id="maincontent">

<h1>HTML 5 Audio/Video DOM durationchange 事件</h1>

<div class="backtoreference">
<p><a href="html_ref_audio_video_dom.htm" >HTML 5 Audio/Video DOM 参考手册</a></p>
</div>

<div>
<h2>实例</h2>

<p>提示视频的时长已改变：</p>

<pre>
myVid=document.getElementById(&quot;video1&quot;);
<code>myVid.ondurationchange=alert(&quot;The video duration has changed&quot;);</code>
</pre>

<p class="tiy"><a href="javascript:tiy.run('html5_av_event_durationchange')" >亲自试一试</a></p>
</div>

<div>
<h2>定义和用法</h2>

<p>当指定音频/视频的时长数据发生变化时，发生 durationchange 事件。</p>

<p>当音频/视频加载后，时长将由 &quot;NaN&quot; 变为音频/视频的实际时长。</p>

<p>当音频/视频处于加载过程中时，会依次发生以下事件：</p>

<ul>
<li><a href="av_event_loadstart.htm"  title="HTML5 Audio/Video DOM loadstart 事件">loadstart</a></li>
<li>durationchange</li>
<li><a href="av_event_loadedmetadata.htm"  title="HTML5 Audio/Video DOM loadedmetadata 事件">loadedmetadata</a></li>
<li><a href="av_event_loadeddata.htm"  title="HTML5 Audio/Video DOM loadeddata 事件">loadeddata</a></li>
<li><a href="av_event_progress.htm"  title="HTML5 Audio/Video DOM progress 事件">progress</a></li>
<li><a href="av_event_canplay.htm"  title="HTML5 Audio/Video DOM canplay 事件">canplay</a></li>
<li><a href="av_event_canplaythrough.htm"  title="HTML5 Audio/Video DOM canplaythrough 事件">canplaythrough</a></li>
</ul>
</div>

<div>
<h2>语法</h2>

<p>在 HTML 中：</p>
<pre>&lt;audio|video ondurationchange=&quot;<i>SomeJavaScriptCode</i>&quot;&gt;</pre>

<p>在 JavaScript 中：</p>
<pre>audio|video.ondurationchange=<i>SomeJavaScriptCode</i>;</pre>

<p>使用 addEventListener()：</p>
<pre>
audio|video.addEventListener(&quot;durationchange&quot;, function()
  {
  <span>//SomeJavaScriptCode</span>
  }
);
</pre>
</div>

<div>
<h3>技术细节</h3>

<table class="dataintable">
<tr>
<th style="width:35%;">以下 HTML 标签支持：</th>
<td>&lt;audio&gt;, &lt;video&gt;</td>
</tr>

<tr>
<th>以下 JavaScript 对象支持：</th>
<td>Audio, Video</td>
</tr>

</table>
</div>

<div>
<h2>更多实例</h2>

<p class="tiy"><a href="javascript:tiy.run('html5_av_event_durationchange_html')" >在 HTML 元素上使用 durationchange 属性</a></p>

<p class="tiy"><a href="javascript:tiy.run('html5_av_event_durationchange_addeventlistener')" >使用 addEventListener() 来监听 durationchange 事件</a></p>
</div>

<div class="backtoreference">
<p><a href="html_ref_audio_video_dom.htm" >HTML 5 Audio/Video DOM 参考手册</a></p>
</div>

</div>
</div>
<script src="../chrX.js"></script>