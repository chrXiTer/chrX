<link rel="stylesheet" type="text/css" href="../c3.css" />


<div id="wrapper">
<div id="maincontent">

<h1>JavaScript 表单验证</h1>

<div id="intro">
<p><strong>JavaScript 可用来在数据被送往服务器前对 HTML 表单中的这些输入数据进行验证。</strong></p>
</div>

<div>
<h2>JavaScript 表单验证</h2>

<p>JavaScript 可用来在数据被送往服务器前对 HTML 表单中的这些输入数据进行验证。</p>

<p>被 JavaScript 验证的这些典型的表单数据有：</p>

<ul>
<li>用户是否已填写表单中的必填项目？</li>
<li>用户输入的邮件地址是否合法？</li>
<li>用户是否已输入合法的日期？</li>
<li>用户是否在数据域 (numeric field) 中输入了文本？</li>
</ul>
</div>

<div>
<h2>必填（或必选）项目</h2>

<p>下面的函数用来检查用户是否已填写表单中的必填（或必选）项目。假如必填或必选项为空，那么警告框会弹出，并且函数的返回值为 false，否则函数的返回值则为 true（意味着数据没有问题）：</p>

<pre>
function validate_required(field,alerttxt)
{
with (field)
{
if (value==null||value==&quot;&quot;)
  {alert(alerttxt);return false}
else {return true}
}
}
</pre>

<p>下面是连同 HTML 表单的代码：</p>

<pre>
&lt;html&gt;
&lt;head&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
<code>
function validate_required(field,alerttxt)
{
with (field)
  {
  if (value==null||value==&quot;&quot;)
    {alert(alerttxt);return false}
  else {return true}
  }
}

function validate_form(thisform)
{
with (thisform)
  {
  if (validate_required(email,&quot;Email must be filled out!&quot;)==false)
    {email.focus();return false}
  }
}</code>
&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;form action=&quot;submitpage.htm&quot; onsubmit=&quot;return validate_form(this)&quot; method=&quot;post&quot;&gt;
Email: &lt;input type=&quot;text&quot; name=&quot;email&quot; size=&quot;30&quot;&gt;
&lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt; 
&lt;/form&gt;
&lt;/body&gt;

&lt;/html&gt;
</pre>
</div>

<div>
<h2>E-mail 验证</h2>

<p>下面的函数检查输入的数据是否符合电子邮件地址的基本语法。</p>

<p>意思就是说，输入的数据必须包含 @ 符号和点号(.)。同时，@ 不可以是邮件地址的首字符，并且 @ 之后需有至少一个点号：</p>

<pre>
function validate_email(field,alerttxt)
{
with (field)
{
apos=value.indexOf(&quot;@&quot;)
dotpos=value.lastIndexOf(&quot;.&quot;)
if (apos&lt;1||dotpos-apos&lt;2) 
  {alert(alerttxt);return false}
else {return true}
}
}
</pre>

<p>下面是连同 HTML 表单的完整代码：</p>

<pre>
&lt;html&gt;
&lt;head&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
<code>function validate_email(field,alerttxt)
{
with (field)
{
apos=value.indexOf(&quot;@&quot;)
dotpos=value.lastIndexOf(&quot;.&quot;)
if (apos&lt;1||dotpos-apos&lt;2) 
  {alert(alerttxt);return false}
else {return true}
}
}

function validate_form(thisform)
{
with (thisform)
{
if (validate_email(email,&quot;Not a valid e-mail address!&quot;)==false)
  {email.focus();return false}
}
}</code>
&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
&lt;form action=&quot;submitpage.htm&quot;onsubmit=&quot;return validate_form(this);&quot; method=&quot;post&quot;&gt;
Email: &lt;input type=&quot;text&quot; name=&quot;email&quot; size=&quot;30&quot;&gt;
&lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt; 
&lt;/form&gt;
&lt;/body&gt;

&lt;/html&gt;
</pre>
</div>

</div>
</div>
<script src="../chrX.js"></script>