<link rel="stylesheet" type="text/css" href="../c3.css" />


<div id="wrapper">
<div id="maincontent">

<h1>ECMAScript 原始值和引用值</h1>

<div>
<p><strong>在 ECMAScript 中，变量可以存在两种类型的值，即原始值和引用值。</strong></p>
</div>

<div>
<h2>原始值和引用值</h2>

<p>在 ECMAScript 中，变量可以存在两种类型的值，即原始值和引用值。</p>

<dl class="define">
<dt>原始值</dt>
<dd>存储在栈（stack）中的简单数据段，也就是说，它们的值直接存储在变量访问的位置。</dd>
<dt>引用值</dt>
<dd>存储在堆（heap）中的对象，也就是说，存储在变量处的值是一个指针（point），指向存储对象的内存处。</dd>
</dl>

<p>为变量赋值时，ECMAScript 的解释程序必须判断该值是原始类型，还是引用类型。要实现这一点，解释程序则需尝试判断<em>该值是否为 ECMAScript 的原始类型之一</em>，即 Undefined、Null、Boolean、Number 和 String 型。由于这些原始类型占据的空间是固定的，所以可将他们存储在较小的内存区域 - 栈中。这样存储便于迅速查寻变量的值。</p>

<p><strong>在许多语言中，字符串都被看作引用类型，而非原始类型，因为字符串的长度是可变的。ECMAScript 打破了这一传统。</strong></p>

<p>如果一个值是引用类型的，那么它的存储空间将从堆中分配。由于引用值的大小会改变，所以不能把它放在栈中，否则会降低变量查寻的速度。相反，放在变量的栈空间中的值是该对象存储在堆中的地址。地址的大小是固定的，所以把它存储在栈中对变量性能无任何负面影响。如下图所示：</p>

<img src="../i/ct_js_value.gif"  alt="存储在堆和栈中的原始值和引用值" />

</div>

<div>
<h2>原始类型</h2>

<p>如前所述，ECMAScript 有 5 种原始类型（primitive type），即 Undefined、Null、Boolean、Number 和 String。ECMA-262 把术语<em>类型（type）</em>定义为值的一个集合，每种原始类型定义了它包含的值的范围及其字面量表示形式。</p>

<p>ECMAScript 提供了 typeof 运算符来判断一个值是否在某种类型的范围内。可以用这种运算符判断一个值是否表示一种原始类型：如果它是原始类型，还可以判断它表示哪种原始类型。</p>

<p>在稍后的章节，我们将为您深入讲解 ECMAScript 的原始类型和引用类型。</p>
</div>

</div>
</div>
<script src="../chrX.js"></script>